DocumentaÃ§Ã£o TÃ©cnica Completa: Sistema de ReuniÃ£o InstantÃ¢nea
ğŸ“‹ Ãndice
VisÃ£o Geral do Fluxo
Passo 1: CriaÃ§Ã£o da ReuniÃ£o (Dashboard)
Passo 2: Modal de Sucesso
Passo 3: Interface de VÃ­deo (Sala)
Passo 4: GravaÃ§Ã£o da ReuniÃ£o
Passo 5: VisualizaÃ§Ã£o de GravaÃ§Ãµes
Arquitetura Backend
Checklist de ReplicaÃ§Ã£o
VisÃ£o Geral do Fluxo
Clica 'ReuniÃ£o InstantÃ¢nea'
Clica 'Participar agora'
Interface de VÃ­deo
Clica Gravar
Clica Parar
Webhook/Sync
Clica Assistir
Dashboard
API cria sala 100ms
Modal de Sucesso
Sala de ReuniÃ£o
Meeting100ms Component
Inicia GravaÃ§Ã£o
Para GravaÃ§Ã£o
Status: Completed
PÃ¡gina GravaÃ§Ãµes
Player de VÃ­deo
Passo 1: CriaÃ§Ã£o da ReuniÃ£o
Dashboard (
client/src/pages/Dashboard.tsx
)
BotÃ£o Verde "ReuniÃ£o InstantÃ¢nea":

<Button 
  onClick={handleInstantMeeting} 
  disabled={isCreatingInstant}
  className="gap-2 bg-green-600 hover:bg-green-700"
>
  {isCreatingInstant ? (
    <Loader2 className="h-4 w-4 animate-spin" />
  ) : (
    <Zap className="h-4 w-4" />
  )}
  ReuniÃ£o InstantÃ¢nea
</Button>
Handler:

const handleInstantMeeting = async () => {
  try {
    // Chama API para criar reuniÃ£o
    const meeting = await createInstantMeeting({ titulo: 'ReuniÃ£o InstantÃ¢nea' });
    
    // Armazena dados da reuniÃ£o criada
    setCreatedMeeting({
      id: meeting.id,
      linkReuniao: meeting.linkReuniao,
      titulo: meeting.titulo,
    });
    
    // Abre modal de sucesso
    setShowMeetingModal(true);
  } catch (error) {
    toast({ title: "Erro", description: error.message });
  }
};
Backend Endpoint (
server/routes.ts
):

app.post("/api/reunioes/instantanea", requireAuth, requireTenant, async (req, res) => {
  // 1. Criar sala no 100ms
  const sala = await criarSala(
    `instantanea-${Date.now()}`,
    hmsTemplateId,
    hmsAccessKey,
    hmsAppSecret
  );
  
  // 2. Gerar link pÃºblico
  const linkReuniao = `https://${domain}/reuniao/${tenant.slug}/${sala.id}`;
  
  // 3. Salvar no banco
  const [novaReuniao] = await db.insert(reunioes).values({
    titulo: 'ReuniÃ£o InstantÃ¢nea',
    roomId100ms: sala.id,
    linkReuniao,
    status: 'em_andamento',
    dataInicio: new Date(),
    dataFim: new Date(Date.now() + 60 * 60000), // +60min
  }).returning();
  
  return res.status(201).json(novaReuniao);
});
Passo 2: Modal de Sucesso
InstantMeetingModal (
client/src/components/InstantMeetingModal.tsx
)
Design do Modal:

âœ… Ãcone de check verde
ğŸ“‹ Campo de input com o link (read-only)
ğŸ“‹ BotÃ£o "Copiar" ao lado do input
ğŸ‘¥ BotÃ£o "Convidar" (abre formulÃ¡rio de email)
ğŸ”µ BotÃ£o principal "Participar agora" (azul, grande)
CÃ³digo do BotÃ£o Principal:

<Button 
  onClick={handleJoinNow} 
  className="w-full h-14 rounded-2xl bg-blue-600 hover:bg-blue-700 shadow-lg"
>
  Participar agora
  <ArrowRight className="h-5 w-5" />
</Button>
Handler de ParticipaÃ§Ã£o:

const handleJoinNow = () => {
  if (meeting?.linkReuniao) {
    // Abre link em nova aba
    const url = meeting.linkReuniao.startsWith('http') 
      ? meeting.linkReuniao 
      : `${window.location.origin}${meeting.linkReuniao}`;
    
    window.open(url, "_blank");
    onClose();
  }
};
Passo 3: Interface de VÃ­deo
Meeting100ms Component (
client/src/components/Meeting100ms.tsx
)
Estrutura da Interface:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Header (Logo + Status de GravaÃ§Ã£o)     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚   Grid de VÃ­deos (PeerVideo)           â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”                   â”‚
â”‚   â”‚Peer 1â”‚  â”‚Peer 2â”‚                   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜                   â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Footer (Controles)                      â”‚
â”‚ [ğŸ¤] [ğŸ“¹] [ğŸ–¥ï¸] [âš«] [Sair]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Componente PeerVideo (linhas 36-112):

function PeerVideo({ peer, config, totalPeers }) {
  const { videoRef } = useVideo({ trackId: peer.videoTrack });
  const isVideoOff = !peer.videoTrack;
  return (
    <Card className="relative aspect-video bg-zinc-900">
      {/* Avatar (quando vÃ­deo estÃ¡ off) */}
      <div className="absolute inset-0 flex items-center justify-center">
        <div className="w-20 h-20 rounded-full bg-blue-600 text-white">
          {peer.name?.charAt(0).toUpperCase()}
        </div>
      </div>
      {/* VÃ­deo */}
      <video
        ref={videoRef}
        autoPlay
        muted={peer.isLocal}
        playsInline
        className="absolute inset-0 w-full h-full object-cover"
      />
      {/* Nome do participante */}
      <div className="absolute bottom-3 left-3 px-3 py-1.5 rounded-lg bg-black/60 text-white">
        {peer.name} {peer.isLocal && "(VocÃª)"}
        {!peer.audioTrack && <MicOff className="w-3 h-3 text-red-500" />}
      </div>
    </Card>
  );
}
Header com Indicador de GravaÃ§Ã£o (linhas 454-486):

<header className="h-14 px-6 border-b bg-zinc-900/40 backdrop-blur-xl">
  <div className="flex items-center gap-3">
    <div className="w-7 h-7 bg-blue-600 rounded-lg">
      <Video className="h-4 w-4 text-white" />
    </div>
    <div>
      <span className="font-bold text-white">MeetFlow</span>
      {isRecordingOn && (
        <div className="flex items-center gap-1 animate-pulse">
          <Circle className="h-1.5 w-1.5 fill-red-500 text-red-500" />
          <span className="text-red-500 font-bold">GRAVANDO</span>
        </div>
      )}
    </div>
  </div>
  
  <div className="flex items-center gap-4">
    <Button onClick={copyLink}>COPIAR LINK</Button>
    <div>{peers.length} PARTICIPANTES</div>
  </div>
</header>
Controles (Footer) (linhas 501-572):

<footer className="h-24 px-6 flex items-center justify-center">
  <div className="px-6 py-3 rounded-3xl bg-zinc-900/90 backdrop-blur-2xl">
    {/* Microfone */}
    <Button onClick={toggleAudio} className={isAudioEnabled ? "bg-zinc-800" : "bg-red-500"}>
      {isAudioEnabled ? <Mic /> : <MicOff />}
    </Button>
    {/* CÃ¢mera */}
    <Button onClick={toggleVideo} className={isVideoEnabled ? "bg-zinc-800" : "bg-red-500"}>
      {isVideoEnabled ? <Video /> : <VideoOff />}
    </Button>
    {/* Compartilhar Tela */}
    <Button onClick={toggleScreenShare} className={isScreenShared ? "bg-blue-600" : "bg-zinc-800"}>
      {isScreenShared ? <MonitorOff /> : <MonitorUp />}
    </Button>
    {/* Gravar */}
    <Button 
      onClick={handleToggleRecording} 
      className={isRecording ? "bg-red-500 shadow-lg" : "bg-zinc-800"}
    >
      <Circle className={isRecording && "fill-white animate-pulse"} />
    </Button>
    {/* Sair */}
    <Button onClick={handleLeave} variant="destructive">
      Sair
    </Button>
  </div>
</footer>
ConexÃ£o com 100ms (linhas 184-215):

useEffect(() => {
  const joinRoom = async () => {
    try {
      await hmsActions.join({
        userName,
        authToken,
        settings: { isAudioMuted: false, isVideoMuted: false },
        rememberDeviceSelection: true
      });
      setIsJoining(false);
    } catch (err) {
      setError(err.message);
    }
  };
  joinRoom();
}, [hmsActions, authToken, userName]);
Passo 4: GravaÃ§Ã£o da ReuniÃ£o
Iniciar GravaÃ§Ã£o (Frontend)
Handler (linhas 370-406):

const handleToggleRecording = async () => {
  const currentRoomId = roomId || window.location.pathname.split('/').pop();
  
  if (!isRecording) {
    // Iniciar
    setIsRecording(true);
    const response = await fetch('/api/100ms/recording/start', {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ roomId: currentRoomId }),
    });
    if (!response.ok) {
      setIsRecording(false);
      throw new Error('Erro ao iniciar gravaÃ§Ã£o');
    }
    const data = await response.json();
    setRecordingId(data.recordingId);
    toast.success("âœ… GravaÃ§Ã£o iniciada!");
  } else {
    // Parar
    await fetch('/api/100ms/recording/stop', {
      method: 'POST',
      body: JSON.stringify({ roomId: currentRoomId }),
    });
    setIsRecording(false);
    toast.success("â¸ï¸ GravaÃ§Ã£o parada! O vÃ­deo serÃ¡ processado.");
  }
};
Backend: Iniciar GravaÃ§Ã£o
Endpoint (
server/routes.ts
, linhas 195-245):

app.post("/api/100ms/recording/start", requireAuth, requireTenant, async (req, res) => {
  const { roomId } = req.body;
  
  // 1. Gerar token para o bot
  const token = gerarTokenParticipante(
    roomId, 
    "beam-" + Date.now(), 
    "__internal_recorder", // Role especial
    appAccessKey, 
    appSecret
  );
  
  // 2. Construir URL de gravaÃ§Ã£o
  const publicUrl = process.env.PUBLIC_URL || `https://${process.env.REPLIT_DEV_DOMAIN}`;
  const recordingUrl = `${publicUrl}/recording/${roomId}?token=${token}&auto_join=true&skip_preview=true&skip_device_selection=true`;
  
  // 3. Chamar API 100ms Beam
  const result = await iniciarGravacao(roomId, appAccessKey, appSecret, recordingUrl);
  
  // 4. Salvar no banco
  await db.insert(gravacoes).values({
    reuniaoId: reuniao.id,
    tenantId: req.tenant.id,
    roomId100ms: roomId,
    recordingId100ms: result.id,
    status: "recording",
  });
  res.json({ success: true, recordingId: result.id });
});
Backend: Parar GravaÃ§Ã£o
Endpoint (linhas 247-272):

app.post("/api/100ms/recording/stop", requireAuth, requireTenant, async (req, res) => {
  const { roomId } = req.body;
  
  // 1. Chamar API 100ms
  await pararGravacao(roomId, appAccessKey, appSecret);
  
  // 2. Atualizar status no banco
  await db.update(gravacoes)
    .set({ status: "processing", stoppedAt: new Date() })
    .where(and(
      eq(gravacoes.roomId100ms, roomId), 
      eq(gravacoes.status, "recording")
    ));
  res.json({ success: true });
});
Webhook de ConclusÃ£o
Endpoint (linhas 286-309):

app.post("/api/webhooks/100ms", async (req, res) => {
  const event = req.body;
  
  if (event.type === "beam.recording.success") {
    const { id, asset } = event.data;
    
    await db.update(gravacoes)
      .set({ 
        status: "completed", 
        fileUrl: asset?.location,
        fileSize: asset?.size,
        duration: asset?.duration,
        updatedAt: new Date()
      })
      .where(eq(gravacoes.recordingId100ms, id));
  }
  res.json({ success: true });
});
Passo 5: VisualizaÃ§Ã£o de GravaÃ§Ãµes
PÃ¡gina GravaÃ§Ãµes (
client/src/pages/Gravacoes.tsx
)
Estrutura:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ TÃ­tulo: "GravaÃ§Ãµes"                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Tabela de GravaÃ§Ãµes:                    â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ ReuniÃ£o | Data | Status | AÃ§Ãµes    â”‚ â”‚
â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â”‚
â”‚ â”‚ ReuniÃ£o 1 | 02/01 | âœ… | [Assistir]â”‚ â”‚
â”‚ â”‚ ReuniÃ£o 2 | 01/01 | ğŸŸ¡ | Processandoâ”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Listagem (linhas 76-82):

const { data: gravacoes = [], isLoading } = useQuery<Gravacao[]>({
  queryKey: ["gravacoes"],
  queryFn: async () => {
    const response = await api.get("/api/gravacoes");
    return response.data;
  },
});
Badges de Status (linhas 131-163):

const getStatusBadge = (status: string) => {
  switch (status) {
    case "recording":
      return <Badge className="bg-red-100 text-red-700 animate-pulse">Gravando</Badge>;
    case "completed":
      return <Badge className="bg-green-100 text-green-700">ConcluÃ­da</Badge>;
    case "processing":
      return <Badge className="bg-yellow-100 text-yellow-700">Processando</Badge>;
    case "failed":
      return <Badge className="bg-red-100 text-red-700">Falhou</Badge>;
  }
};
BotÃ£o Assistir (linhas 272-279):

{gravacao.status === "completed" && (
  <Button onClick={() => handlePlayRecording(gravacao)}>
    <Play className="h-4 w-4 mr-1" />
    Assistir
  </Button>
)}
Handler de ReproduÃ§Ã£o (linhas 104-129):

const handlePlayRecording = async (gravacao: Gravacao) => {
  setSelectedGravacao(gravacao);
  setIsLoadingPlayback(true);
  try {
    // Buscar URL prÃ©-assinada do 100ms
    const response = await api.get(`/api/gravacoes/${gravacao.id}/url`);
    setPlaybackUrl(response.data.url);
  } catch (error) {
    toast({ title: "Erro", description: "NÃ£o foi possÃ­vel carregar a gravaÃ§Ã£o." });
    setSelectedGravacao(null);
  } finally {
    setIsLoadingPlayback(false);
  }
};
Modal de Player (linhas 332-358):

<Dialog open={!!selectedGravacao} onOpenChange={() => setSelectedGravacao(null)}>
  <DialogContent className="max-w-4xl">
    <DialogHeader>
      <DialogTitle>{selectedGravacao?.reuniao?.titulo}</DialogTitle>
    </DialogHeader>
    <div className="aspect-video bg-black rounded-lg">
      {isLoadingPlayback ? (
        <Loader2 className="h-8 w-8 animate-spin" />
      ) : playbackUrl ? (
        <video src={playbackUrl} controls autoPlay className="w-full h-full" />
      ) : (
        <p>NÃ£o foi possÃ­vel carregar o vÃ­deo</p>
      )}
    </div>
  </DialogContent>
</Dialog>
Arquitetura Backend
Endpoints Principais
MÃ©todo	Rota	DescriÃ§Ã£o
POST	/api/reunioes/instantanea	Cria reuniÃ£o e sala 100ms
POST	/api/100ms/recording/start	Inicia gravaÃ§Ã£o via Beam
POST	/api/100ms/recording/stop	Para gravaÃ§Ã£o
GET	/api/100ms/recording/:roomId	Lista gravaÃ§Ãµes de uma sala
POST	/api/webhooks/100ms	Recebe eventos do 100ms
GET	/api/gravacoes	Lista todas as gravaÃ§Ãµes
GET	/api/gravacoes/:id/url	Gera URL prÃ©-assinada
ServiÃ§os
server/services/hms100ms.ts
:

criarSala()
: Cria sala no 100ms
gerarTokenParticipante()
: Gera JWT para acesso
iniciarGravacao()
: Inicia Beam recording
pararGravacao()
: Para gravaÃ§Ã£o
obterGravacao()
: Busca dados da gravaÃ§Ã£o
obterUrlPresignadaAsset()
: Gera URL temporÃ¡ria
Checklist de ReplicaÃ§Ã£o
1. Backend
 Copiar 
server/routes.ts
 (todos os endpoints)
 Copiar 
server/services/hms100ms.ts
 Copiar server/services/n8n.ts
 Copiar 
shared/schema.ts
 (tabelas)
 Configurar .env:
HMS_APP_ACCESS_KEY=your_key
HMS_APP_SECRET=your_secret
HMS_TEMPLATE_ID=your_template_id
DATABASE_URL=postgresql://...
PUBLIC_URL=https://your-domain.com
2. Frontend - Componentes
 
client/src/pages/Dashboard.tsx
 
client/src/components/InstantMeetingModal.tsx
 
client/src/pages/Reuniao.tsx
 
client/src/components/Meeting100ms.tsx
 â­ (Interface de vÃ­deo)
 
client/src/pages/RecordingView.tsx
 (View do bot)
 
client/src/pages/Gravacoes.tsx
 â­ (PÃ¡gina de gravaÃ§Ãµes)
3. Frontend - Hooks e Utils
 
client/src/hooks/useReuniao.ts
 client/src/lib/api.ts
 client/src/types/reuniao.ts
4. DependÃªncias
# Backend
npm install drizzle-orm pg axios jsonwebtoken bcryptjs
# Frontend
npm install @100mslive/react-sdk @100mslive/hms-video-store
npm install @tanstack/react-query wouter date-fns
npm install sonner lucide-react
5. Banco de Dados
npm run db:push
6. ConfiguraÃ§Ã£o 100ms
 Criar template com roles: host, guest, __internal_recorder
 Configurar permissÃµes de browserRecording para host
 Configurar subscribeToRoles do __internal_recorder para ver host e guest
 Obter credenciais (App Access Key e Secret)
7. Teste Completo
 Clicar "ReuniÃ£o InstantÃ¢nea" no dashboard
 Ver modal com link
 Clicar "Participar agora"
 Ver interface de vÃ­deo com controles
 Clicar botÃ£o de gravaÃ§Ã£o (âš«)
 Ver indicador "GRAVANDO" no header
 Clicar novamente para parar
 Executar npx tsx script/sync-recordings.ts
 Ir em "GravaÃ§Ãµes" no menu
 Ver gravaÃ§Ã£o com status "ConcluÃ­da"
 Clicar "Assistir"
 Ver vÃ­deo no player
Fluxo Visual Completo
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   DASHBOARD     â”‚  1. UsuÃ¡rio clica "ReuniÃ£o InstantÃ¢nea"
â”‚  [ğŸŸ¢ ReuniÃ£o    â”‚
â”‚   InstantÃ¢nea]  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  MODAL SUCESSO  â”‚  2. Modal mostra link + botÃ£o "Participar agora"
â”‚  âœ… Criada!     â”‚
â”‚  ğŸ“‹ Link        â”‚
â”‚  [Participar]   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         v
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SALA REUNIÃƒO   â”‚  3. Interface de vÃ­deo carrega
â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚VocÃª â”‚ â”‚Guestâ”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ [ğŸ¤][ğŸ“¹][âš«]    â”‚  4. Controles disponÃ­veis
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         v (clica âš«)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ”´ GRAVANDO    â”‚  5. Indicador vermelho aparece
â”‚ â”Œâ”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚VocÃª â”‚ â”‚Guestâ”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ [ğŸ¤][ğŸ“¹][âš«]    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         v (clica âš« novamente)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Processando... â”‚  6. GravaÃ§Ã£o para e processa
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         v (webhook ou sync)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   GRAVAÃ‡Ã•ES     â”‚  7. PÃ¡gina lista gravaÃ§Ãµes
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ReuniÃ£o 1 âœ… â”‚ â”‚
â”‚ â”‚[Assistir]   â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         v (clica Assistir)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PLAYER VÃDEO   â”‚  8. Modal com player de vÃ­deo
â”‚  â–¶ï¸ [=========] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
Troubleshooting
Tela Preta na GravaÃ§Ã£o
Verificar filtro !p.isLocal no 
RecordingView.tsx
Verificar parÃ¢metros auto_join, skip_preview na URL
GravaÃ§Ã£o Presa em "Processando"
Executar npx tsx script/sync-recordings.ts
VÃ­deo NÃ£o Carrega na PÃ¡gina de GravaÃ§Ãµes
Verificar se fileUrl estÃ¡ salvo no banco
Verificar se URL prÃ©-assinada estÃ¡ sendo gerada corretamente
Controles NÃ£o Funcionam
Verificar permissÃµes da role no template 100ms
Verificar logs do console (F12)